!function(){angular.module("anguComp.monacoEditor",[])}(),function(){function a(a){return{restrict:"EA",template:"",controller:function(){},controllerAs:"$ctrl",scope:{options:"=",editorHeight:"@",editorWidth:"@",original:"=",modified:"="},link:function(a,b,c){function d(){var b=c.options||{};f=monaco.editor.createDiffEditor(g[0],{lineNumbers:b.lineNumbers||!0,theme:b.theme||"vs-dark",automaticLayout:b.autoResize||!1}),f.setModel({original:monaco.editor.createModel(a.original,"text/javascript"),modified:monaco.editor.createModel(a.modified,"text/javascript")})}function e(){d()}var f,g=angular.element('<div class="code-container" style="height:600px;width:800px;"></div>');b.append(g),e()}}}angular.module("anguComp.monacoEditor").directive("angularMonacoDiffEditor",a),a.$inject=["$parse"]}(),function(){function a(a){return{restrict:"EA",require:"ngModel",template:"",controller:function(){},controllerAs:"$ctrl",scope:{options:"=?",templateStart:"@",templateEnd:"@",editorHeight:"@",editorWidth:"@"},link:function(b,c,d,e){function f(){var a=b.options||{};console.log(d.options,b.options),r=monaco.editor.create(y[0],{value:"",language:a.language||"javascript",lineNumbers:a.lineNumbers||!0,readOnly:q,theme:a.theme||"vs-dark",automaticLayout:a.autoResize||!1}),console.log(r.getActions()),m()}function g(){"string"==typeof d.templateStart&&(u=(d.templateStart.match(/\n/g)||[]).length+1,s=d.templateStart+"\n"),"string"==typeof d.templateEnd&&(v=(d.templateEnd.match(/\n/g)||[]).length+1,t="\n"+d.templateEnd)}function h(){var a=u+1,b=v,c=1,d=99999,e=r.getModel().getLineCount();r.getModel().setEditableRange(new monaco.Range(a,c,e-b,d))}function i(){var a="600px";return!b.editorHeight||b.editorHeight.indexOf("%")!==b.editorHeight.length-1&&b.editorHeight.indexOf("px")!==b.editorHeight.length-2||(a=b.editorHeight),a}function j(){var a="800px";return!b.editorWidth||b.editorWidth.indexOf("%")!==b.editorWidth.length-1&&b.editorWidth.indexOf("px")!==b.editorWidth.length-2||(a=b.editorWidth),a}function k(){r.onDidChangeModelContent(function(a){var b=r.getValue();if(u>0||v>0){var c=b.split("\n");c.splice(0,u),c.splice(-1,v),b=c.join("\n")}e.$setViewValue(b)}),e.$render=function(){console.log("update model"),l(),m()}}function l(){r.trigger("angularDirective","editor.action.formatDocument")}function m(){var a=void 0===e.$viewValue?"":e.$viewValue;r.setValue("".concat(s,a,t)),h()}function n(){g(),f(),k(),h()}function o(a){var b=a||{};r.updateOptions({language:b.language||"javascript",lineNumbers:b.lineNumbers||!0,readOnly:q,theme:b.theme||"vs-dark",automaticLayout:b.autoResize||!1})}function p(a){console.log("set readonly to ",a),r.updateOptions({readOnly:a})}var q=a(d.ngReadonly)(b.$parent)||a(d.ngDisabled)(b.$parent)||!1;d.$observe("readonly",function(){q=a(d.ngReadonly)(b.$parent)||a(d.ngDisabled)(b.$parent)||!1,p(q)}),d.$observe("disabled",function(){q=a(d.ngReadonly)(b.$parent)||a(d.ngDisabled)(b.$parent)||!1,p(q)}),d.$observe("templateStart",function(){s=d.templateStart,g(),h(),m()}),d.$observe("templateEnd",function(){t=d.templateEnd,g(),h(),m()});var r,s="",t="",u=0,v=0,w=i(),x=j(),y=angular.element('<div class="code-container" style="height:'+w+";width:"+x+';"></div>');c.append(y),n(),b.$watchCollection("options",function(){console.log("value changed into ",b.options),o(b.options)},!0)}}}angular.module("anguComp.monacoEditor").directive("angularMonacoEditor",a),a.$inject=["$parse"]}();